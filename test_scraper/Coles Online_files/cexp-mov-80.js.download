(function(){function e(){if(!c.initialised)return c.awaitInitialisation().then(function(){return e()});if(c&&c.getTrolley()){var a=c.getTrolley().deliverySlot;a&&a.collectionPointId&&(-1<a.collectionPointId.indexOf("CE")||-1<h.indexOf(a.collectionPointId))&&-1===k.indexOf(a.collectionPointId)&&50==d.user.minOrderValue&&(d.user.minOrderValue=80)}}function f(){d.user.awaitInitialisation().then(function(a){e()})}var h="0482CC6718 0482CC6761 0482CC6764 0482CC6765 0482CC6766 0482CC6767 0482CC6794 0584CC6706 4948CC1925 4948CC1940 4948CC1955 4972CC1949 4981CC1920 0482CC6706".split(" "),
k=["0482CE2159"],c=angular.element(document.querySelector("html")).injector().get("trolleyManager"),d=angular.element(document.querySelector("html")).injector().get("userManager"),g=angular.element(document.body).injector().get("$rootScope");g.$apply(function(){g.$on("EVENT_ANALYTICS_USER_LOGGED_IN",function(){f()})});f();(function(){console.log("loadCSS");var a=document.getElementsByTagName("head")[0],b=document.createElement("link");b.id="c4b_css";b.rel="stylesheet";b.type="text/css";b.href="//www.coles.com.au/Portals/edm/colesonline/v7-img/scripts/c4b.css";
b.media="all";a.appendChild(b)})()})();

(function(){var d=!1,l=function(a){if(a=document.querySelector("[data-colrs-drawer-login-failed]")){var c=a.querySelector("p.warning-title.secondary");c&&"The specified logon ID or password are not correct. Verify the information provided and log on again."===c.innerHTML&&(c.innerHTML="The specified email address or password are not correct. Please try again or click the forgotten password link below to reset your details.",a=a.querySelector("div.draw-warning div.warning-content .secondary-cta"),
f(a,!1))}},g=function(){var a=angular.element(document.body).injector().get("$rootScope"),c=angular.element(document.querySelector(".login-form")).controller("colrsLoginPage");a.$watch(function(){return c.showErrorPage},function(a){!0===a&&setTimeout(function(){var a=document.querySelector("#login-error p.warning-title.secondary");a&&"The specified logon ID or password are not correct. Verify the information provided and log on again."===a.innerHTML&&document.querySelector("#login-error")&&document.querySelector("#login-error").parentElement&&
document.querySelector("#login-error").parentElement.querySelector(".secondary-cta")&&(a.innerHTML="The specified email address or password are not correct. Please try again or click the forgotten password link below to reset your details.",a=document.querySelector("#login-error").parentElement.querySelector(".secondary-cta"),f(a,!0))},50)})},f=function(a,c){a.style.display="none";var b=document.createElement("a"),e=document.createElement("span"),d=document.createTextNode("Forgotten your password?");
e.setAttribute("role","text");e.appendChild(d);b.appendChild(e);!0===c?b.href="/a/a-national/everything/browse?panel=login_register&view=forgot_password":(b.href="#",b.onclick=angular.element(document.querySelector(".login-form")).controller("colrsLoginForm").forgotPasswordFn);b.className="secondary-cta";b.setAttribute("tabindex","0");a.parentElement.insertBefore(b,a);a.parentElement.removeChild(a)},m=function(){if(document.querySelector("#draw-content-wrapper"))h();else{var a=angular.element(document.body).injector().get("$rootScope");
a.$apply(function(){a.$on("EVENT_ANALYTICS_USER_LOGIN_START",function(a,b){d||(h(),d=!0)})})}},h=function(){var a=document.querySelector("#draw-content-wrapper");a&&(new MutationObserver(l)).observe(a,{childList:!0})},n=function(){angular.element(document.querySelector(".login-form")).controller("colrsLoginPage")&&g();var a=angular.element(document.body).injector().get("$rootScope");a.$apply(function(){a.$on("EVENT_ANALYTICS_USER_LOGIN_START_FULL",function(a,b){g()})})},k=function(){m();n()};"complete"===
document.readyState?k():window.onload=k})();